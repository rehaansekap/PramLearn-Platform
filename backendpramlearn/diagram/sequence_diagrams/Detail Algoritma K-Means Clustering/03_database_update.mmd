
sequenceDiagram
    participant ARCS as ARCSProcessor
    participant DB as Database
    participant API as API Endpoint
    
    Note over ARCS,API: Database Update
    
    ARCS->>+DB: transaction.atomic()
    
    loop Untuk setiap profile_id, cluster_label
        ARCS->>ARCS: motivation_level = level_mapping[cluster_label]
        ARCS->>DB: UPDATE StudentMotivationProfile<br/>SET motivation_level = motivation_level<br/>WHERE id = profile_id
    end
    
    DB-->>-ARCS: Batch update committed
    
    ARCS->>ARCS: Calculate return statistics
    ARCS-->>-API: {<br/>  "total_profiles": N,<br/>  "clusters": {<br/>    "Low": count_low,<br/>    "Medium": count_medium,<br/>    "High": count_high<br/>  }<br/>}
